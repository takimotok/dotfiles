[sqlfluff]
# Supported dialects https://docs.sqlfluff.com/en/stable/perma/dialects.html
# Or run 'sqlfluff dialects'
dialect = mysql

# Comma separated list of rules to check, default to all
rules = all

# Comma separated list of rules to exclude, or None
exclude_rules = None

# Below controls SQLFluff output, see max_line_length for SQL output
output_line_length = 120

# Ignore errors by category (one or more of the following, separated by commas: lexing,linting,parsing,templating)
ignore = None

# Warn only for rule codes (one of more rule codes, separated by commas: e.g. LT01,LT02)
# Also works for templating and parsing errors by using TMP or PRS
warnings = None

# can either be autodetect or a valid encoding e.g. utf-8, utf-8-sig
encoding = utf-8

# Comma separated list of file extensions to lint
# NB: This config will only apply in the root folder
sql_file_exts = .sql,.sql.j2,.dml,.ddl

# Allow fix to run on files, even if they contain parsing errors
# Note altering this is NOT RECOMMENDED as can corrupt SQL
fix_even_unparsable = False

# Max line length is set by default to be in line with the dbt style guide.
# https://github.com/dbt-labs/corp/blob/main/dbt_style_guide.md
# Set to zero or negative to disable checks.
max_line_length = 0

[sqlfluff:indentation]
# See https://docs.sqlfluff.com/en/stable/perma/indent_locations.html
indent_unit = space
tab_space_size = 2
indented_joins = False
indented_ctes = False
indented_using_on = True
indented_on_contents = True
indented_then = True
indented_then_contents = True
allow_implicit_indents = False
template_blocks_indent = True

# This is a comma separated list of elements to skip
# indentation edits to.
skip_indentation_in = script_content

# If comments are found at the end of long lines, we default to moving
# them to the line _before_ their current location as the convention is
# that a comment precedes the line it describes. However if you prefer
# comments moved _after_, this configuration setting can be set to "after".
trailing_comments = before

# To exclude comment lines from indentation entirely set this to "True".
ignore_comment_lines = False

# -----
# Layout configuration
# cf.) https://docs.sqlfluff.com/en/stable/perma/layout_spacing.html
# -----

# -----
# Templater configuration
# cf.) https://docs.sqlfluff.com/en/stable/configuration/templating/index.html
# -----

# -----
# Rules configuration
# cf.) https://docs.sqlfluff.com/en/stable/configuration/rule_configuration.html
# -----

# Some rules can be configured directly from the config common to other rules
[sqlfluff:rules]
allow_scalar = True
single_table_references = consistent
unquoted_identifiers_policy = all

[sqlfluff:rules:capitalisation.keywords]
# Keywords
capitalisation_policy = upper
# Comma separated list of words to ignore for this rule
ignore_words = None
ignore_words_regex = None

